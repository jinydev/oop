I"
<h1 id="오류-호출__call">오류 호출(__call)</h1>
<hr />

<p>매서드를 사용하기 위해서는 반드시 클래스 내에 매서드 함수를 정의해야 합니다. 하지만 정의되지 않는 클래스를 사용하려고 하면 당연히 오류가 발생할 것입니다. 공동 작업이나 소스가 커질수록 이러한 오류가 발생할 확률도 커집니다.</p>

<p>만일 클래스 내에서 존재하지 않는 메서드를 호출할 때 오류를 발생하지 않고 __call() 메서드를 호출합니다.</p>

<p>예제 파일 class-### 14.php</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="cp">&lt;?php</span>
	<span class="kd">class</span> <span class="nc">BaseClass</span>
	<span class="p">{</span>
		<span class="k">function</span> <span class="nf">__call</span><span class="p">(</span><span class="nv">$method</span><span class="p">,</span><span class="nv">$params</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">echo</span> <span class="s2">"오류: 정의되지 않는 메서드 "</span><span class="o">.</span><span class="nv">$method</span><span class="o">.</span><span class="s2">"를 "</span><span class="o">.</span><span class="nb">implode</span><span class="p">(</span><span class="s1">', '</span><span class="p">,</span> <span class="nv">$params</span><span class="p">)</span><span class="o">.</span><span class="s2">"호출했습니다."</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="c1">// 인스턴스 생성</span>
	<span class="nv">$obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BaseClass</span><span class="p">();</span>
	<span class="nv">$obj</span><span class="o">-&gt;</span><span class="na">show</span><span class="p">(</span><span class="s2">"a1"</span><span class="p">,</span><span class="s2">"a2"</span><span class="p">,</span><span class="s2">"a3"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div>

<p>결과</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code>오류: 정의되지 않는 메서드 show를 a1, a2, a3호출했습니다.
</code></pre></div></div>

<p>위의 예제 에서는 없는 메서드를 호출합니다. 없는 메서드를 호출하게 되면 대신에 __call() 매직 메서드를 호출합니다. __call() 함수는 두 개의 인자를 받습니다. 호출한 메서드명과 입력받은 파라미터 값을 배열로 전달합니다.</p>

<p>매직 메서드를 잘 이용하면 공동 작업 시 잘못된 메서드의 호출로 인하여 발생할 수 있는 오류를 사전에 방지할 수 있습니다.</p>

<p><br /><br /></p>
:ET