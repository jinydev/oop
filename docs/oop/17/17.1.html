<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!--SEO--><title>JinyDev | PHP</title>
            <meta name="title" content="PHP" /><meta name="keyword" content="jinyphp, php, 객체지향, oop, class" /><!--부트스트랩4-->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <style>
            img {
                max-width:100%;
            }
        </style>

        <link rel="stylesheet" href="/assets/highlight.css">
        <link rel="stylesheet" href="/assets/style.css">

        <script data-ad-client="ca-pub-3321560028329475" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        
    </head>
    <body>
        <!--네비게이션--><!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="/">JinyDev</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/php">PHP</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://mysql.jiny.dev">Mysql</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://git.jiny.dev">Git</a>
          </li>
        </ul>
      </div>
    </div>
</nav><header>
  <!-- Main jumbotron for a primary marketing message or call to action -->
<div class="jumbotron">
  <div class="container">
    <div class="row">
      <div class="col-lg-3">
        <img src="/php/img/num1.jpg">
      </div>
      <div class="col-lg-9">
        <h1 class="display-3">PHP</h1>
        <h2>PHP로 시작하는 프로그래밍 입문</h2>
        <p>웹서비스 개발을 위한 서버사이드 언어 입니다. </p>
   
    </p>
      </div>
    </div>
  </div>
</div>
</header>

<!-- Page Content -->
<div class="container">
    <div class="row">
        <!-- Post Content Column -->
        <div class="col-lg-9">
          <section>
            <h3 id="171-오류">17.1 오류</h3>
<p>사실 기본적인 오류 처리는 대부분의 프로그래밍 언어에서는 거의 다 지원하는 기능입니다.</p>

<p>우리가 가장 많이 접하는 오류는 문법적으로 코드가 잘못 작성되었을 때입니다. 인터프리터, 컴파일러는 잘못된 부분을 오류 메시지를 통해 개발자에게 즉시 알려 줍니다. 사실상 문법적인 오류는 PHP 스크립트 실행이 되지 않기 때문에 쉽게 문제를 해결할 수 있습니다.</p>

<p>PHP의 기본적인 문법 오류 처리는 매우 간단합니다. 오류 메시지, 파일 이름, 줄 번호를 출력하는 게 전부입니다. 오류가 발생하면 대부분 프로그램은 실행을 할 수 없거나, 동작을 중단합니다.</p>

<p>PHP는 오류 출력 제한 연산자 @를 통해 오류 메시지 출력을 제한할 수 있지만 권장하지 않는 안티 패턴입니다. 개발자는 프로그램 오류가 발생하지 않도록 최대한 노력해야 하며, 만일 오류가 발생하면 다른 대처를 통해 처리하는 것이 좋습니다.</p>

<p>PHP는 오류 발생 시 처리할 수 있는 간단한 몇 가지 함수를 제공합니다.</p>

<p><br /></p>
<hr />

<h3 id="1711-die--exit">17.1.1 die() &amp; exit()</h3>
<p>die() 내장 함수는 exit() 함수와 유사합니다. exit() 함수는 사용자 메시지를 출력하고 현재 스크립트를 종료합니다.</p>

<p>|관련함수|</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code>void exit ([ string $status ] )
</code></pre></div></div>

<p>예제 파일 exit-01.php</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="cp">&lt;?php

	$filename = 'abcd.txt';
	$file = fopen($filename, 'r') or exit("파일을 읽을 수 없습니다.");

?&gt;</span>
</code></pre></div></div>

<p>결과</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code>파일을 읽을 수 없습니다.
</code></pre></div></div>

<p>위의 예제는 파일 읽기 예입니다. 파일을 읽기 위해서 파일 포인터를 엽니다. 만일 파일 포인터를 생성하지 못면 exit() 함수를 통해서 스크립트를 종료합니다.</p>

<p><br /></p>
<hr />

<h3 id="1712-오류-발생">17.1.2 오류 발생</h3>
<p>trigger_error() 함수를 이용하면 사용자가 직접 오류를 발생시킬 수 있습니다.</p>

<p>예제 파일 error-01.php</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="cp">&lt;?php
	trigger_error("사용자 오류 발생", E_USER_ERROR);
?&gt;</span>
</code></pre></div></div>

<p>결과</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code>[Sun May 14 17:24:40 2017] PHP Fatal error: 사용자 오류 발생 in C:\php-7.1.4-Win32-VC14-x86\jinyphp\error-01.php on line 2
[Sun May 14 17:24:40 2017] ::1:56024 [500]: /jinyphp/error-01.php - 사용자 오류 발생 in C:\php-7.1.4-Win32-VC14-x86\jinyphp\error-01.php on line 2
</code></pre></div></div>

<table>
  <tbody>
    <tr>
      <td>E_* 상수는 여러 개의 상수를</td>
      <td>, &amp; 비트 연산을 하여 사용할 수 있습니다.</td>
    </tr>
  </tbody>
</table>

<p>1 : E_ERROR(integer)<br />
치명적인 런타임 오류. 이는 메모리 할당 문제와 같이 복구할 수 없는 오류를 나타냅니다. 스크립트 실행이 중지되었습니다.</p>

<p>2 : E_WARNING(integer)<br />
런타임 경고(치명적이지 않은 오류). 스크립트의 실행이 중지되지 않습니다.</p>

<p>4 : E_PARSE(integer)<br />
컴파일 타임 구문 분석 오류. 구문 분석 오류는 구문 분석기에서만 생성해야 합니다.</p>

<p>8 : E_NOTICE(integer)<br />
런타임 고지. 스크립트가 오류를 나타낼 수 있지만 스크립트를 실행하는 정상적인 과정에서 발생할 수 있음을 나타냅니다.</p>

<p>16 : E_CORE_ERROR(integer)<br />
PHP가 처음 시작될 때 발생하는 치명적인 오류. 이것은 E_ERROR와 비슷하지만, PHP 코어에서 생성된다는 점만 다릅니다.</p>

<p>32 :E_CORE_WARNING(integer)<br />
PHP가 처음 시작될 때 발생하는 경고(치명적이지 않은 오류). 이것은 E_WARNING과 비슷하지만 PHP 코어에서 생성된다는 점만 다릅니다.</p>

<p>64 : E_COMPILE_ERROR(integer)<br />
치명적인 컴파일 타임 오류. 이것은 Zend Scripting Engine에 의해 생성된다는 것을 제외하고는 E_ERROR와 같습니다.</p>

<p>128 : E_COMPILE_WARNING(integer)<br />
컴파일 타임 경고(치명적이지 않은 오류). 이것은 Zend Scripting Engine에 의해 생성된다는 점을 제외하고는 E_WARNING과 같습니다.</p>

<p>256 : E_USER_ERROR(integer)<br />
사용자 생성 오류 메시지. PHP 함수 trigger_error ()를 사용하여 PHP 코드에서 생성된다는 점을 제외하고는 E_ERROR와 유사합니다.</p>

<p>512 : E_USER_WARNING(integer)<br />
사용자 생성 경고 메시지. 이것은 PHP 함수 trigger_error ()를 사용하여 PHP 코드에서 생성된다는 점을 제외하고는 E_WARNING과 같습니다.</p>

<p>1024 : E_USER_NOTICE(integer)<br />
사용자 생성 알림 메시지 PHP 함수 trigger_error ()를 사용하여 PHP 코드에서 생성된다는 점을 제외하고는 E_NOTICE와 같습니다.</p>

<p>2048 : E_STRICT(integer)<br />
PHP가 코드의 변경을 제안하도록 하여 최상의 상호 운용성과 코드의 호환성을 보장하십시오.</p>

<p>4096 : E_RECOVERABLE_ERROR(integer)<br />
잡을 수 있는 치명적인 오류. 아마도 위험한 오류가 발생했음을 나타내지만 엔진을 불안정한 상태로 두지 않았습니다. 사용자 정의 핸들(set_error_handler () 참조)이 오류를 catch하지 않으면 응용프로그램은 E_ERROR이므로 중단됩니다.</p>

<p>8192 : E_DEPRECATED(integer)<br />
런타임 고지. 향후 버전에서 작동하지 않을 코드에 대한 경고를 받으려면 이 옵션을 활성화.</p>

<p>16384 : E_USER_DEPRECATED(integer)<br />
사용자 생성 경고 메시지. PHP 함수 trigger_error ()를 사용하여 PHP 코드에서 생성된다는 점을 제외하고는 E_DEPRECATED와 같습니다.</p>

<p>32767 : E_ALL (integer)<br />
PHP 5.4.0 이전의 레벨 E_STRICT를 제외하고 지원되는 모든 오류 및 경고.
PHP 5.4.x에서 32767, PHP 5.3.x에서 30719, PHP 5.2.x에서 6143, 이전에 2047 코드번호.</p>

<p><br /></p>
<hr />

<h3 id="1713-커스텀-에러-핸들러">17.1.3 커스텀 에러 핸들러</h3>
<p>사용자 에러 핸들러는 매우 간단하게 생성할 수 있습니다. 단지 오류가 발생되었을 때 사용할 별도의 함수를 만들어 놓으면 됩니다.</p>

<p>이 함수는 적어도 2개의 파라미터를 가지고 있어야 합니다. 바로 오류 레벨과 메시지입니다. 매개변수는 최대 5개까지 추가할 수 있습니다. 사용자 에러 처리 함수를 set_error_handler() 함수를 통해 전역 오류 처리기로 등록할 수 있습니다.</p>

<p>|관련함수|</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code>오류 처리_함수($errno, $errstr, $errfile, $errline, $errcontext)
set_error_handler(오류 처리_함수);
</code></pre></div></div>

<p>$errno<br />
오류 단계를 대응합니다. PHP E_* 상수를 대응합니다.</p>

<p>$errstr<br />
오류 메시지</p>

<p>$errfile<br />
오류가 발생된 파일명</p>

<p>$errLine<br />
오류가 발생된 명령줄</p>

<p>$errcontext<br />
오류가 발생된 시점의 심볼 테이블 배열</p>

<p>예제 파일 error-02.php</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="cp">&lt;?php
	function userError($errno, $errstr){
		echo "사용자 오류 처리: [$errno] = $errstr &lt;br&gt;";
	}
	set_error_handler("userError");

	trigger_error("사용자 오류 발생", E_USER_ERROR);
?&gt;</span>
</code></pre></div></div>

<p>결과</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code>사용자 오류 처리: [256] = 사용자 오류 발생
</code></pre></div></div>

<p>위의 예제는 사용자 오류 처리를 위한 예입니다. 먼저 오류 발생 시 처리할 함수를 생성합니다. 생성한 처리 함수를 set_error_handler() 함수를 통해 등록합니다. 그리고 사용자가 직접 오류를 발생하여 앞서 지정한 오류 처리 함수가 동작을 하는지 테스트할 수 있습니다.</p>

<p><br /><br /></p>

          </section>
            
        </div>

        <!-- Sidebar Column -->
        <div class="col-md-3">
          <aside><ul class="list-group">
    <li class="list-group-item list-group-item-dark">Site Menu</li>
    <li class="list-group-item"><a href="/php/php">소개</a></li>
    <li class="list-group-item"><a href="/php/install">설치</a></li>
    <li class="list-group-item"><a href="/php/basic">기본문법</a></li>

    <li class="list-group-item"><a href="/php/function">함수</a></li>

    <li class="list-group-item"><a href="/php/oop">객체지향</a></li>
</ul>
<br>
</aside>
            
        </div>

    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
        <footer>  <!-- Footer -->
  <footer class="py-3 bg-dark">
    <div class="container">
      <p class="m-0 text-center text-white">Copyright &copy; jinydev 2017~2020</p>
    </div>
    <!-- /.container -->
  </footer></footer>  
        
        <!--부트스트랩4-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-160048106-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-160048106-1');
        </script>

    </body>

</html>